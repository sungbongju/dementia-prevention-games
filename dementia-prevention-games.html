<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‘ë‡Œ ê±´ê°• ì „í†µë†€ì´</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;700;900&family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --hanji-cream: #F5F0E6;
            --dancheong-red: #C73E3A;
            --dancheong-blue: #1B4965;
            --dancheong-green: #2D5016;
            --dancheong-yellow: #E8B931;
            --wood-brown: #8B4513;
            --ink-black: #1A1A1A;
            --gold-accent: #D4AF37;
            --soft-shadow: rgba(139, 69, 19, 0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: var(--hanji-cream);
            min-height: 100vh;
            background-image: 
                url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0L30 60M0 30L60 30' stroke='%23D4C5A9' stroke-width='0.5' fill='none' opacity='0.3'/%3E%3C/svg%3E");
        }

        /* ë©”ì¸ ì»¨í…Œì´ë„ˆ */
        .main-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* í—¤ë” */
        .header {
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(135deg, var(--dancheong-red) 0%, #A63030 100%);
            border-radius: 20px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 40px var(--soft-shadow);
        }

        .header::before {
            content: '';
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            border: 3px solid var(--gold-accent);
            border-radius: 15px;
            opacity: 0.5;
        }

        .header::after {
            content: 'ç¦';
            position: absolute;
            right: 30px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 120px;
            color: rgba(255,255,255,0.1);
            font-family: 'Noto Serif KR', serif;
        }

        .header h1 {
            font-family: 'Noto Serif KR', serif;
            font-size: 3rem;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            position: relative;
            z-index: 1;
        }

        .header p {
            color: rgba(255,255,255,0.9);
            font-size: 1.2rem;
            margin-top: 10px;
            position: relative;
            z-index: 1;
        }

        /* ì ìˆ˜íŒ */
        .scoreboard {
            background: linear-gradient(145deg, #2C1810 0%, #1A0F0A 100%);
            border-radius: 15px;
            padding: 25px 40px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            box-shadow: 
                0 8px 30px rgba(0,0,0,0.3),
                inset 0 1px 0 rgba(255,255,255,0.1);
            border: 2px solid var(--gold-accent);
        }

        .score-item {
            text-align: center;
        }

        .score-label {
            color: var(--gold-accent);
            font-size: 0.9rem;
            margin-bottom: 5px;
            font-weight: 500;
        }

        .score-value {
            font-family: 'Noto Serif KR', serif;
            font-size: 2.5rem;
            color: white;
            font-weight: 900;
        }

        .total-score {
            background: var(--dancheong-red);
            padding: 15px 30px;
            border-radius: 10px;
            border: 2px solid var(--gold-accent);
        }

        .total-score .score-value {
            color: var(--gold-accent);
            font-size: 3rem;
        }

        /* ê²Œì„ ê·¸ë¦¬ë“œ */
        .game-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        /* ê²Œì„ ì¹´ë“œ */
        .game-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 8px 30px var(--soft-shadow);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 50px var(--soft-shadow);
        }

        .game-card.completed {
            opacity: 0.85;
        }

        .game-card.completed::after {
            content: 'âœ“ ì™„ë£Œ';
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--dancheong-green);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 700;
            z-index: 10;
        }

        .game-icon {
            height: 140px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            position: relative;
            overflow: hidden;
        }

        .game-icon.hwatu { background: linear-gradient(135deg, #1B4965 0%, #0D2A3A 100%); }
        .game-icon.yut { background: linear-gradient(135deg, var(--dancheong-green) 0%, #1A3009 100%); }
        .game-icon.memory { background: linear-gradient(135deg, var(--dancheong-yellow) 0%, #C99B20 100%); }
        .game-icon.proverb { background: linear-gradient(135deg, var(--dancheong-red) 0%, #8B2525 100%); }
        .game-icon.calc { background: linear-gradient(135deg, #6B4423 0%, #3D2614 100%); }
        .game-icon.sequence { background: linear-gradient(135deg, #4A1942 0%, #2A0F27 100%); }

        .game-icon::before {
            content: '';
            position: absolute;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 60%);
            top: -50%;
            left: -50%;
        }

        .game-info {
            padding: 25px;
        }

        .game-title {
            font-family: 'Noto Serif KR', serif;
            font-size: 1.5rem;
            color: var(--ink-black);
            margin-bottom: 10px;
        }

        .game-desc {
            color: #666;
            font-size: 1rem;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .game-score {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .points-badge {
            background: var(--hanji-cream);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            color: var(--wood-brown);
            font-weight: 500;
        }

        .play-btn {
            background: var(--dancheong-red);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Noto Sans KR', sans-serif;
        }

        .play-btn:hover {
            background: #A63030;
            transform: scale(1.05);
        }

        .play-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        /* ê²Œì„ ëª¨ë‹¬ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--hanji-cream);
            border-radius: 25px;
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }

        .modal-header {
            background: var(--dancheong-red);
            padding: 25px 30px;
            border-radius: 25px 25px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-family: 'Noto Serif KR', serif;
            font-size: 1.8rem;
            color: white;
        }

        .close-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            background: rgba(255,255,255,0.3);
        }

        .modal-body {
            padding: 30px;
        }

        /* ê²Œì„ë³„ ìŠ¤íƒ€ì¼ */
        
        /* í™”íˆ¬ ì§ë§ì¶”ê¸° */
        .hwatu-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            max-width: 500px;
            margin: 0 auto;
        }

        .hwatu-card {
            aspect-ratio: 2/3;
            background: linear-gradient(135deg, var(--dancheong-blue) 0%, #0D2A3A 100%);
            border-radius: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            transition: all 0.3s ease;
            border: 3px solid var(--gold-accent);
            position: relative;
            overflow: hidden;
        }

        .hwatu-card::before {
            content: 'èŠ±';
            font-family: 'Noto Serif KR', serif;
            color: rgba(255,255,255,0.2);
            font-size: 3rem;
        }

        .hwatu-card.flipped {
            background: white;
            border-color: var(--dancheong-red);
        }

        .hwatu-card.flipped::before {
            content: none;
        }

        .hwatu-card.matched {
            background: #E8F5E9;
            border-color: var(--dancheong-green);
            cursor: default;
        }

        /* ìœ·ë†€ì´ */
        .yut-container {
            text-align: center;
        }

        .yut-sticks {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
        }

        .yut-stick {
            width: 30px;
            height: 120px;
            background: linear-gradient(90deg, #DEB887 0%, #D2B48C 50%, #DEB887 100%);
            border-radius: 15px;
            border: 2px solid var(--wood-brown);
            transition: all 0.5s ease;
            position: relative;
        }

        .yut-stick.back {
            background: linear-gradient(90deg, #8B4513 0%, #A0522D 50%, #8B4513 100%);
        }

        .yut-stick.back::after {
            content: 'Ã—';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #DEB887;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .throw-btn {
            background: var(--dancheong-green);
            color: white;
            border: none;
            padding: 20px 50px;
            border-radius: 30px;
            font-size: 1.5rem;
            font-weight: 700;
            cursor: pointer;
            margin: 20px 0;
            transition: all 0.3s ease;
            font-family: 'Noto Sans KR', sans-serif;
        }

        .throw-btn:hover {
            background: #1A3009;
            transform: scale(1.05);
        }

        .throw-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .yut-result {
            font-family: 'Noto Serif KR', serif;
            font-size: 3rem;
            color: var(--dancheong-red);
            margin: 20px 0;
            min-height: 60px;
        }

        .yut-board {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .board-cell {
            width: 50px;
            height: 50px;
            background: white;
            border: 2px solid var(--wood-brown);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            position: relative;
        }

        .board-cell.current {
            background: var(--dancheong-yellow);
            border-color: var(--dancheong-red);
        }

        .board-cell.goal {
            background: var(--dancheong-red);
            color: white;
        }

        /* ìˆ«ì ê¸°ì–µí•˜ê¸° */
        .memory-display {
            font-family: 'Noto Serif KR', serif;
            font-size: 4rem;
            text-align: center;
            padding: 40px;
            background: white;
            border-radius: 20px;
            margin: 20px 0;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            letter-spacing: 15px;
            color: var(--dancheong-blue);
            border: 3px solid var(--gold-accent);
        }

        .memory-input {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .num-btn {
            width: 70px;
            height: 70px;
            font-size: 2rem;
            font-weight: bold;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            background: white;
            color: var(--ink-black);
            transition: all 0.2s ease;
            border: 2px solid #ddd;
            font-family: 'Noto Serif KR', serif;
        }

        .num-btn:hover {
            background: var(--dancheong-blue);
            color: white;
            border-color: var(--dancheong-blue);
        }

        .num-btn:active {
            transform: scale(0.95);
        }

        .user-answer {
            font-family: 'Noto Serif KR', serif;
            font-size: 2.5rem;
            text-align: center;
            margin: 20px 0;
            min-height: 50px;
            color: var(--dancheong-green);
            letter-spacing: 10px;
        }

        /* ì†ë‹´ ë§ì¶”ê¸° */
        .proverb-display {
            font-family: 'Noto Serif KR', serif;
            font-size: 2rem;
            text-align: center;
            padding: 30px;
            background: white;
            border-radius: 15px;
            margin: 20px 0;
            line-height: 1.8;
            border: 3px solid var(--gold-accent);
        }

        .proverb-blank {
            display: inline-block;
            min-width: 100px;
            border-bottom: 4px solid var(--dancheong-red);
            margin: 0 10px;
            color: var(--dancheong-red);
        }

        .proverb-options {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin: 30px 0;
        }

        .option-btn {
            background: white;
            border: 3px solid var(--dancheong-blue);
            padding: 15px 30px;
            border-radius: 15px;
            font-size: 1.3rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Noto Serif KR', serif;
        }

        .option-btn:hover {
            background: var(--dancheong-blue);
            color: white;
        }

        .option-btn.correct {
            background: var(--dancheong-green);
            color: white;
            border-color: var(--dancheong-green);
        }

        .option-btn.wrong {
            background: var(--dancheong-red);
            color: white;
            border-color: var(--dancheong-red);
        }

        /* ì‚°ìˆ˜ ê³„ì‚° */
        .calc-problem {
            font-family: 'Noto Serif KR', serif;
            font-size: 3.5rem;
            text-align: center;
            padding: 40px;
            background: white;
            border-radius: 20px;
            margin: 20px 0;
            border: 3px solid var(--gold-accent);
        }

        .calc-input {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin: 30px 0;
        }

        .calc-answer {
            font-size: 2.5rem;
            padding: 15px 30px;
            border: 3px solid var(--dancheong-blue);
            border-radius: 15px;
            text-align: center;
            width: 150px;
            font-family: 'Noto Serif KR', serif;
        }

        .submit-btn {
            background: var(--dancheong-blue);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 15px;
            font-size: 1.3rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Noto Sans KR', sans-serif;
            font-weight: 700;
        }

        .submit-btn:hover {
            background: #0D2A3A;
        }

        /* ìˆœì„œ ë§ì¶”ê¸° */
        .sequence-items {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin: 30px 0;
        }

        .seq-item {
            width: 100px;
            height: 100px;
            background: white;
            border: 3px solid var(--dancheong-yellow);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .seq-item:hover {
            transform: scale(1.1);
            border-color: var(--dancheong-red);
        }

        .seq-item.selected {
            background: var(--dancheong-yellow);
            border-color: var(--gold-accent);
            order: var(--order);
        }

        .selected-sequence {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
            min-height: 80px;
            flex-wrap: wrap;
        }

        .selected-item {
            width: 70px;
            height: 70px;
            background: var(--dancheong-blue);
            color: white;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
        }

        /* ê²Œì„ ê²°ê³¼ */
        .game-result {
            text-align: center;
            padding: 30px;
            background: white;
            border-radius: 20px;
            margin-top: 20px;
            border: 3px solid var(--gold-accent);
        }

        .result-icon {
            font-size: 5rem;
            margin-bottom: 20px;
        }

        .result-text {
            font-family: 'Noto Serif KR', serif;
            font-size: 2rem;
            color: var(--ink-black);
            margin-bottom: 10px;
        }

        .result-score {
            font-size: 3rem;
            color: var(--dancheong-red);
            font-weight: 900;
        }

        .next-btn {
            background: var(--dancheong-green);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 25px;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
            font-family: 'Noto Sans KR', sans-serif;
        }

        .next-btn:hover {
            background: #1A3009;
        }

        /* ê²Œì„ ì •ë³´ */
        .game-info-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: rgba(255,255,255,0.8);
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .game-timer, .game-level {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--ink-black);
        }

        .game-progress {
            height: 10px;
            background: #ddd;
            border-radius: 5px;
            overflow: hidden;
            flex: 1;
            margin: 0 20px;
        }

        .progress-bar {
            height: 100%;
            background: var(--dancheong-green);
            transition: width 0.3s ease;
        }

        /* í‘¸í„° */
        .footer {
            text-align: center;
            padding: 30px;
            color: var(--wood-brown);
            font-size: 1rem;
        }

        /* ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            .header h1 { font-size: 2rem; }
            .game-grid { grid-template-columns: 1fr; }
            .hwatu-grid { grid-template-columns: repeat(3, 1fr); }
            .scoreboard { flex-direction: column; text-align: center; }
            .memory-display { font-size: 2.5rem; letter-spacing: 8px; }
            .calc-problem { font-size: 2.5rem; }
            .proverb-display { font-size: 1.5rem; }
        }

        /* ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes shake {
            0%, 100% { transform: rotate(0); }
            25% { transform: rotate(-15deg); }
            75% { transform: rotate(15deg); }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .shake { animation: shake 0.5s ease; }
        .bounce { animation: bounce 0.5s ease; }
        .pulse { animation: pulse 0.3s ease; }
    </style>
</head>
<body>
    <div class="main-container">
        <!-- í—¤ë” -->
        <header class="header">
            <h1>ğŸ§  ë‘ë‡Œ ê±´ê°• ì „í†µë†€ì´</h1>
            <p>ì¦ê±°ìš´ ë†€ì´ë¡œ ê±´ê°•í•œ ë‘ë‡Œë¥¼!</p>
        </header>

        <!-- ì ìˆ˜íŒ -->
        <div class="scoreboard">
            <div class="score-item">
                <div class="score-label">ì™„ë£Œí•œ ê²Œì„</div>
                <div class="score-value" id="completedGames">0/6</div>
            </div>
            <div class="score-item">
                <div class="score-label">ì˜¤ëŠ˜ì˜ ë„ì „</div>
                <div class="score-value" id="currentStreak">ğŸ”¥ 1ì¼ì°¨</div>
            </div>
            <div class="score-item total-score">
                <div class="score-label">ì´ ì ìˆ˜</div>
                <div class="score-value" id="totalScore">0</div>
            </div>
        </div>

        <!-- ê²Œì„ ê·¸ë¦¬ë“œ -->
        <div class="game-grid">
            <!-- í™”íˆ¬ ì§ë§ì¶”ê¸° -->
            <div class="game-card" id="card-hwatu" onclick="openGame('hwatu')">
                <div class="game-icon hwatu">ğŸ´</div>
                <div class="game-info">
                    <h3 class="game-title">í™”íˆ¬ ì§ë§ì¶”ê¸°</h3>
                    <p class="game-desc">ê°™ì€ ê·¸ë¦¼ì˜ í™”íˆ¬ íŒ¨ë¥¼ ì°¾ì•„ ì§ì„ ë§ì¶°ë³´ì„¸ìš”. ê¸°ì–µë ¥ì„ í‚¤ì›Œì¤ë‹ˆë‹¤!</p>
                    <div class="game-score">
                        <span class="points-badge">ìµœëŒ€ 100ì </span>
                        <button class="play-btn">ì‹œì‘í•˜ê¸°</button>
                    </div>
                </div>
            </div>

            <!-- ìœ·ë†€ì´ -->
            <div class="game-card" id="card-yut" onclick="openGame('yut')">
                <div class="game-icon yut">ğŸ¯</div>
                <div class="game-info">
                    <h3 class="game-title">ìœ·ë†€ì´</h3>
                    <p class="game-desc">ìœ·ì„ ë˜ì ¸ ë„ì°©ì ê¹Œì§€ ë§ì„ ì´ë™ì‹œì¼œ ë³´ì„¸ìš”. íŒë‹¨ë ¥ì„ ê¸¸ëŸ¬ì¤ë‹ˆë‹¤!</p>
                    <div class="game-score">
                        <span class="points-badge">ìµœëŒ€ 100ì </span>
                        <button class="play-btn">ì‹œì‘í•˜ê¸°</button>
                    </div>
                </div>
            </div>

            <!-- ìˆ«ì ê¸°ì–µí•˜ê¸° -->
            <div class="game-card" id="card-memory" onclick="openGame('memory')">
                <div class="game-icon memory">ğŸ”¢</div>
                <div class="game-info">
                    <h3 class="game-title">ìˆ«ì ê¸°ì–µí•˜ê¸°</h3>
                    <p class="game-desc">í™”ë©´ì— ë‚˜íƒ€ë‚˜ëŠ” ìˆ«ìë¥¼ ìˆœì„œëŒ€ë¡œ ê¸°ì–µí•´ ë³´ì„¸ìš”!</p>
                    <div class="game-score">
                        <span class="points-badge">ìµœëŒ€ 100ì </span>
                        <button class="play-btn">ì‹œì‘í•˜ê¸°</button>
                    </div>
                </div>
            </div>

            <!-- ì†ë‹´ ì™„ì„±í•˜ê¸° -->
            <div class="game-card" id="card-proverb" onclick="openGame('proverb')">
                <div class="game-icon proverb">ğŸ“œ</div>
                <div class="game-info">
                    <h3 class="game-title">ì†ë‹´ ì™„ì„±í•˜ê¸°</h3>
                    <p class="game-desc">ë¹ˆ ì¹¸ì— ë“¤ì–´ê°ˆ ì•Œë§ì€ ë§ì„ ì°¾ì•„ ì†ë‹´ì„ ì™„ì„±í•˜ì„¸ìš”!</p>
                    <div class="game-score">
                        <span class="points-badge">ìµœëŒ€ 100ì </span>
                        <button class="play-btn">ì‹œì‘í•˜ê¸°</button>
                    </div>
                </div>
            </div>

            <!-- ì‚°ìˆ˜ ê³„ì‚° -->
            <div class="game-card" id="card-calc" onclick="openGame('calc')">
                <div class="game-icon calc">ğŸ§®</div>
                <div class="game-info">
                    <h3 class="game-title">ì‚°ìˆ˜ ê³„ì‚°</h3>
                    <p class="game-desc">ê°„ë‹¨í•œ ë§ì…ˆê³¼ ëº„ì…ˆ ë¬¸ì œë¥¼ í’€ì–´ë³´ì„¸ìš”. ë‘ë‡Œê°€ ì Šì–´ì§‘ë‹ˆë‹¤!</p>
                    <div class="game-score">
                        <span class="points-badge">ìµœëŒ€ 100ì </span>
                        <button class="play-btn">ì‹œì‘í•˜ê¸°</button>
                    </div>
                </div>
            </div>

            <!-- ìˆœì„œ ë§ì¶”ê¸° -->
            <div class="game-card" id="card-sequence" onclick="openGame('sequence')">
                <div class="game-icon sequence">ğŸ”„</div>
                <div class="game-info">
                    <h3 class="game-title">ìˆœì„œ ë§ì¶”ê¸°</h3>
                    <p class="game-desc">ê·¸ë¦¼ì„ ì˜¬ë°”ë¥¸ ìˆœì„œëŒ€ë¡œ ë°°ì—´í•´ ë³´ì„¸ìš”. ë…¼ë¦¬ë ¥ì´ ì‘¥ì‘¥!</p>
                    <div class="game-score">
                        <span class="points-badge">ìµœëŒ€ 100ì </span>
                        <button class="play-btn">ì‹œì‘í•˜ê¸°</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- í‘¸í„° -->
        <footer class="footer">
            <p>ë§¤ì¼ ì¡°ê¸ˆì”©, ê±´ê°•í•œ ë‘ë‡Œë¥¼ ìœ„í•œ ì¦ê±°ìš´ ìŠµê´€ ğŸŒ¿</p>
        </footer>
    </div>

    <!-- ê²Œì„ ëª¨ë‹¬ë“¤ -->
    <!-- í™”íˆ¬ ì§ë§ì¶”ê¸° ëª¨ë‹¬ -->
    <div class="modal" id="modal-hwatu">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">ğŸ´ í™”íˆ¬ ì§ë§ì¶”ê¸°</h2>
                <button class="close-btn" onclick="closeGame('hwatu')">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="game-info-bar">
                    <span class="game-level">ë‚¨ì€ ì§: <span id="hwatu-pairs">6</span></span>
                    <div class="game-progress"><div class="progress-bar" id="hwatu-progress" style="width: 0%"></div></div>
                    <span class="game-timer">ì‹œë„: <span id="hwatu-tries">0</span></span>
                </div>
                <div class="hwatu-grid" id="hwatu-board"></div>
                <div class="game-result" id="hwatu-result" style="display: none;">
                    <div class="result-icon">ğŸ‰</div>
                    <div class="result-text">í›Œë¥­í•©ë‹ˆë‹¤!</div>
                    <div class="result-score">+<span id="hwatu-score">0</span>ì </div>
                    <button class="next-btn" onclick="closeGame('hwatu')">í™•ì¸</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ìœ·ë†€ì´ ëª¨ë‹¬ -->
    <div class="modal" id="modal-yut">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">ğŸ¯ ìœ·ë†€ì´</h2>
                <button class="close-btn" onclick="closeGame('yut')">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="game-info-bar">
                    <span class="game-level">í˜„ì¬ ìœ„ì¹˜: <span id="yut-position">0</span>/20</span>
                    <div class="game-progress"><div class="progress-bar" id="yut-progress" style="width: 0%"></div></div>
                    <span class="game-timer">ë˜ì§„ íšŸìˆ˜: <span id="yut-throws">0</span></span>
                </div>
                <div class="yut-container">
                    <div class="yut-board" id="yut-board"></div>
                    <div class="yut-sticks" id="yut-sticks">
                        <div class="yut-stick"></div>
                        <div class="yut-stick"></div>
                        <div class="yut-stick"></div>
                        <div class="yut-stick"></div>
                    </div>
                    <div class="yut-result" id="yut-result-text"></div>
                    <button class="throw-btn" id="throw-btn" onclick="throwYut()">ìœ· ë˜ì§€ê¸°!</button>
                </div>
                <div class="game-result" id="yut-result" style="display: none;">
                    <div class="result-icon">ğŸ†</div>
                    <div class="result-text">ë„ì°©!</div>
                    <div class="result-score">+<span id="yut-score">0</span>ì </div>
                    <button class="next-btn" onclick="closeGame('yut')">í™•ì¸</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ìˆ«ì ê¸°ì–µí•˜ê¸° ëª¨ë‹¬ -->
    <div class="modal" id="modal-memory">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">ğŸ”¢ ìˆ«ì ê¸°ì–µí•˜ê¸°</h2>
                <button class="close-btn" onclick="closeGame('memory')">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="game-info-bar">
                    <span class="game-level">ë‹¨ê³„: <span id="memory-level">1</span>/5</span>
                    <div class="game-progress"><div class="progress-bar" id="memory-progress" style="width: 0%"></div></div>
                    <span class="game-timer">ë§ì¶˜ ê°œìˆ˜: <span id="memory-correct">0</span></span>
                </div>
                <div class="memory-display" id="memory-display">ì¤€ë¹„...</div>
                <div class="user-answer" id="user-answer"></div>
                <div class="memory-input" id="memory-input" style="display: none;">
                    <button class="num-btn" onclick="inputNumber(1)">1</button>
                    <button class="num-btn" onclick="inputNumber(2)">2</button>
                    <button class="num-btn" onclick="inputNumber(3)">3</button>
                    <button class="num-btn" onclick="inputNumber(4)">4</button>
                    <button class="num-btn" onclick="inputNumber(5)">5</button>
                    <button class="num-btn" onclick="inputNumber(6)">6</button>
                    <button class="num-btn" onclick="inputNumber(7)">7</button>
                    <button class="num-btn" onclick="inputNumber(8)">8</button>
                    <button class="num-btn" onclick="inputNumber(9)">9</button>
                    <button class="num-btn" onclick="inputNumber(0)">0</button>
                    <button class="num-btn" onclick="clearAnswer()" style="background: var(--dancheong-red); color: white;">ì§€ìš°ê¸°</button>
                    <button class="num-btn" onclick="submitMemory()" style="background: var(--dancheong-green); color: white;">í™•ì¸</button>
                </div>
                <div class="game-result" id="memory-result" style="display: none;">
                    <div class="result-icon">ğŸ§ </div>
                    <div class="result-text">ëŒ€ë‹¨í•´ìš”!</div>
                    <div class="result-score">+<span id="memory-score">0</span>ì </div>
                    <button class="next-btn" onclick="closeGame('memory')">í™•ì¸</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ì†ë‹´ ì™„ì„±í•˜ê¸° ëª¨ë‹¬ -->
    <div class="modal" id="modal-proverb">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">ğŸ“œ ì†ë‹´ ì™„ì„±í•˜ê¸°</h2>
                <button class="close-btn" onclick="closeGame('proverb')">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="game-info-bar">
                    <span class="game-level">ë¬¸ì œ: <span id="proverb-num">1</span>/5</span>
                    <div class="game-progress"><div class="progress-bar" id="proverb-progress" style="width: 0%"></div></div>
                    <span class="game-timer">ë§ì¶˜ ê°œìˆ˜: <span id="proverb-correct">0</span></span>
                </div>
                <div class="proverb-display" id="proverb-display"></div>
                <div class="proverb-options" id="proverb-options"></div>
                <div class="game-result" id="proverb-result" style="display: none;">
                    <div class="result-icon">ğŸ“š</div>
                    <div class="result-text">ì§€í˜œë¡œì›Œìš”!</div>
                    <div class="result-score">+<span id="proverb-score">0</span>ì </div>
                    <button class="next-btn" onclick="closeGame('proverb')">í™•ì¸</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ì‚°ìˆ˜ ê³„ì‚° ëª¨ë‹¬ -->
    <div class="modal" id="modal-calc">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">ğŸ§® ì‚°ìˆ˜ ê³„ì‚°</h2>
                <button class="close-btn" onclick="closeGame('calc')">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="game-info-bar">
                    <span class="game-level">ë¬¸ì œ: <span id="calc-num">1</span>/5</span>
                    <div class="game-progress"><div class="progress-bar" id="calc-progress" style="width: 0%"></div></div>
                    <span class="game-timer">ë§ì¶˜ ê°œìˆ˜: <span id="calc-correct">0</span></span>
                </div>
                <div class="calc-problem" id="calc-problem"></div>
                <div class="calc-input">
                    <input type="number" class="calc-answer" id="calc-answer" placeholder="?">
                    <button class="submit-btn" onclick="submitCalc()">ì •ë‹µ í™•ì¸</button>
                </div>
                <div class="game-result" id="calc-result" style="display: none;">
                    <div class="result-icon">ğŸ“</div>
                    <div class="result-text">ë˜‘ë˜‘í•´ìš”!</div>
                    <div class="result-score">+<span id="calc-score">0</span>ì </div>
                    <button class="next-btn" onclick="closeGame('calc')">í™•ì¸</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ìˆœì„œ ë§ì¶”ê¸° ëª¨ë‹¬ -->
    <div class="modal" id="modal-sequence">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">ğŸ”„ ìˆœì„œ ë§ì¶”ê¸°</h2>
                <button class="close-btn" onclick="closeGame('sequence')">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="game-info-bar">
                    <span class="game-level">ë¬¸ì œ: <span id="seq-num">1</span>/3</span>
                    <div class="game-progress"><div class="progress-bar" id="seq-progress" style="width: 0%"></div></div>
                    <span class="game-timer">ë§ì¶˜ ê°œìˆ˜: <span id="seq-correct">0</span></span>
                </div>
                <p style="text-align: center; margin-bottom: 20px; font-size: 1.2rem; color: var(--ink-black);" id="seq-instruction">ì•„ë˜ ê·¸ë¦¼ì„ ìˆœì„œëŒ€ë¡œ í´ë¦­í•˜ì„¸ìš”!</p>
                <div class="sequence-items" id="sequence-items"></div>
                <div class="selected-sequence" id="selected-sequence"></div>
                <div style="text-align: center;">
                    <button class="submit-btn" onclick="resetSequence()" style="background: var(--dancheong-red);">ë‹¤ì‹œ ì„ íƒ</button>
                    <button class="submit-btn" onclick="submitSequence()" style="margin-left: 10px;">ì •ë‹µ í™•ì¸</button>
                </div>
                <div class="game-result" id="sequence-result" style="display: none;">
                    <div class="result-icon">ğŸŒŸ</div>
                    <div class="result-text">ë…¼ë¦¬ì™•!</div>
                    <div class="result-score">+<span id="sequence-score">0</span>ì </div>
                    <button class="next-btn" onclick="closeGame('sequence')">í™•ì¸</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ê²Œì„ ìƒíƒœ ê´€ë¦¬
        let gameState = {
            totalScore: 0,
            completedGames: [],
            hwatu: { score: 0, completed: false },
            yut: { score: 0, completed: false },
            memory: { score: 0, completed: false },
            proverb: { score: 0, completed: false },
            calc: { score: 0, completed: false },
            sequence: { score: 0, completed: false }
        };

        // ì ìˆ˜ ì—…ë°ì´íŠ¸
        function updateScoreboard() {
            document.getElementById('totalScore').textContent = gameState.totalScore;
            document.getElementById('completedGames').textContent = `${gameState.completedGames.length}/6`;
        }

        // ê²Œì„ ì—´ê¸°/ë‹«ê¸°
        function openGame(gameType) {
            if (gameState[gameType].completed) return;
            document.getElementById(`modal-${gameType}`).classList.add('active');
            initGame(gameType);
        }

        function closeGame(gameType) {
            document.getElementById(`modal-${gameType}`).classList.remove('active');
            if (gameState[gameType].completed && !gameState.completedGames.includes(gameType)) {
                gameState.completedGames.push(gameType);
                document.getElementById(`card-${gameType}`).classList.add('completed');
                updateScoreboard();
            }
        }

        // ê²Œì„ ì´ˆê¸°í™”
        function initGame(gameType) {
            switch(gameType) {
                case 'hwatu': initHwatu(); break;
                case 'yut': initYut(); break;
                case 'memory': initMemory(); break;
                case 'proverb': initProverb(); break;
                case 'calc': initCalc(); break;
                case 'sequence': initSequence(); break;
            }
        }

        // ============================================
        // 1. í™”íˆ¬ ì§ë§ì¶”ê¸°
        // ============================================
        let hwatuState = {
            cards: [],
            flipped: [],
            matched: 0,
            tries: 0
        };

        const hwatuSymbols = ['ğŸŒ¸', 'ğŸ‚', 'ğŸŒ™', 'ğŸŒŠ', 'ğŸ¦Œ', 'ğŸ—'];

        function initHwatu() {
            hwatuState = { cards: [], flipped: [], matched: 0, tries: 0 };
            document.getElementById('hwatu-result').style.display = 'none';
            
            // ì¹´ë“œ ìƒì„± (6ìŒ = 12ì¥)
            let symbols = [...hwatuSymbols, ...hwatuSymbols];
            symbols.sort(() => Math.random() - 0.5);
            
            const board = document.getElementById('hwatu-board');
            board.innerHTML = '';
            
            symbols.forEach((symbol, index) => {
                const card = document.createElement('div');
                card.className = 'hwatu-card';
                card.dataset.index = index;
                card.dataset.symbol = symbol;
                card.onclick = () => flipCard(index);
                board.appendChild(card);
                hwatuState.cards.push({ symbol, flipped: false, matched: false });
            });
            
            updateHwatuUI();
        }

        function flipCard(index) {
            if (hwatuState.flipped.length >= 2) return;
            if (hwatuState.cards[index].flipped || hwatuState.cards[index].matched) return;
            
            hwatuState.cards[index].flipped = true;
            hwatuState.flipped.push(index);
            
            const card = document.querySelector(`[data-index="${index}"]`);
            card.classList.add('flipped');
            card.textContent = hwatuState.cards[index].symbol;
            card.style.fontSize = '3rem';
            
            if (hwatuState.flipped.length === 2) {
                hwatuState.tries++;
                checkMatch();
            }
            
            updateHwatuUI();
        }

        function checkMatch() {
            const [i1, i2] = hwatuState.flipped;
            
            if (hwatuState.cards[i1].symbol === hwatuState.cards[i2].symbol) {
                hwatuState.cards[i1].matched = true;
                hwatuState.cards[i2].matched = true;
                hwatuState.matched++;
                
                document.querySelector(`[data-index="${i1}"]`).classList.add('matched');
                document.querySelector(`[data-index="${i2}"]`).classList.add('matched');
                
                hwatuState.flipped = [];
                
                if (hwatuState.matched === 6) {
                    endHwatu();
                }
            } else {
                setTimeout(() => {
                    hwatuState.cards[i1].flipped = false;
                    hwatuState.cards[i2].flipped = false;
                    
                    const card1 = document.querySelector(`[data-index="${i1}"]`);
                    const card2 = document.querySelector(`[data-index="${i2}"]`);
                    card1.classList.remove('flipped');
                    card2.classList.remove('flipped');
                    card1.textContent = '';
                    card2.textContent = '';
                    
                    hwatuState.flipped = [];
                }, 1000);
            }
        }

        function updateHwatuUI() {
            document.getElementById('hwatu-pairs').textContent = 6 - hwatuState.matched;
            document.getElementById('hwatu-tries').textContent = hwatuState.tries;
            document.getElementById('hwatu-progress').style.width = `${(hwatuState.matched / 6) * 100}%`;
        }

        function endHwatu() {
            const score = Math.max(100 - (hwatuState.tries - 6) * 5, 50);
            gameState.hwatu.score = score;
            gameState.hwatu.completed = true;
            gameState.totalScore += score;
            
            document.getElementById('hwatu-score').textContent = score;
            document.getElementById('hwatu-result').style.display = 'block';
        }

        // ============================================
        // 2. ìœ·ë†€ì´
        // ============================================
        let yutState = {
            position: 0,
            throws: 0,
            goal: 20
        };

        const yutNames = ['ë¹½ë„', 'ë„', 'ê°œ', 'ê±¸', 'ìœ·', 'ëª¨'];
        const yutMoves = [-1, 1, 2, 3, 4, 5];

        function initYut() {
            yutState = { position: 0, throws: 0, goal: 20 };
            document.getElementById('yut-result').style.display = 'none';
            document.getElementById('yut-result-text').textContent = '';
            document.getElementById('throw-btn').disabled = false;
            
            updateYutBoard();
            updateYutUI();
        }

        function updateYutBoard() {
            const board = document.getElementById('yut-board');
            board.innerHTML = '';
            
            for (let i = 0; i <= 20; i++) {
                const cell = document.createElement('div');
                cell.className = 'board-cell';
                if (i === yutState.position) cell.classList.add('current');
                if (i === 20) {
                    cell.classList.add('goal');
                    cell.textContent = 'ë„ì°©';
                } else {
                    cell.textContent = i;
                }
                board.appendChild(cell);
            }
        }

        function throwYut() {
            document.getElementById('throw-btn').disabled = true;
            
            // ìœ· ì• ë‹ˆë©”ì´ì…˜
            const sticks = document.querySelectorAll('.yut-stick');
            sticks.forEach(stick => {
                stick.classList.remove('back');
                stick.style.animation = 'shake 0.5s ease';
            });
            
            setTimeout(() => {
                // ê²°ê³¼ ê³„ì‚° (ëœë¤)
                let backs = 0;
                sticks.forEach(stick => {
                    stick.style.animation = '';
                    if (Math.random() > 0.5) {
                        stick.classList.add('back');
                        backs++;
                    }
                });
                
                let moveIndex;
                if (backs === 0) moveIndex = 5; // ëª¨
                else if (backs === 1) moveIndex = 4; // ìœ·
                else if (backs === 2) moveIndex = 3; // ê±¸
                else if (backs === 3) moveIndex = 2; // ê°œ
                else if (backs === 4) {
                    moveIndex = Math.random() > 0.5 ? 1 : 0; // ë„ ë˜ëŠ” ë¹½ë„
                }
                
                const result = yutNames[moveIndex];
                const move = yutMoves[moveIndex];
                
                document.getElementById('yut-result-text').textContent = `${result}! (${move > 0 ? '+' : ''}${move}ì¹¸)`;
                
                yutState.position = Math.max(0, Math.min(yutState.position + move, 20));
                yutState.throws++;
                
                updateYutBoard();
                updateYutUI();
                
                if (yutState.position >= 20) {
                    endYut();
                } else {
                    document.getElementById('throw-btn').disabled = false;
                }
            }, 500);
        }

        function updateYutUI() {
            document.getElementById('yut-position').textContent = yutState.position;
            document.getElementById('yut-throws').textContent = yutState.throws;
            document.getElementById('yut-progress').style.width = `${(yutState.position / 20) * 100}%`;
        }

        function endYut() {
            const score = Math.max(100 - (yutState.throws - 5) * 10, 50);
            gameState.yut.score = score;
            gameState.yut.completed = true;
            gameState.totalScore += score;
            
            document.getElementById('yut-score').textContent = score;
            document.getElementById('yut-result').style.display = 'block';
        }

        // ============================================
        // 3. ìˆ«ì ê¸°ì–µí•˜ê¸°
        // ============================================
        let memoryState = {
            level: 1,
            numbers: '',
            userAnswer: '',
            correct: 0,
            maxLevel: 5
        };

        function initMemory() {
            memoryState = { level: 1, numbers: '', userAnswer: '', correct: 0, maxLevel: 5 };
            document.getElementById('memory-result').style.display = 'none';
            document.getElementById('memory-input').style.display = 'none';
            startMemoryRound();
        }

        function startMemoryRound() {
            // ë ˆë²¨ì— ë”°ë¼ ìˆ«ì ê°œìˆ˜ ì¦ê°€ (3ê°œë¶€í„° ì‹œì‘)
            const numCount = memoryState.level + 2;
            memoryState.numbers = '';
            for (let i = 0; i < numCount; i++) {
                memoryState.numbers += Math.floor(Math.random() * 10);
            }
            memoryState.userAnswer = '';
            
            document.getElementById('memory-display').textContent = 'ì¤€ë¹„...';
            document.getElementById('user-answer').textContent = '';
            document.getElementById('memory-input').style.display = 'none';
            
            setTimeout(() => {
                document.getElementById('memory-display').textContent = memoryState.numbers;
                
                // ë ˆë²¨ì— ë”°ë¼ í‘œì‹œ ì‹œê°„ ì¡°ì ˆ
                setTimeout(() => {
                    document.getElementById('memory-display').textContent = '?';
                    document.getElementById('memory-input').style.display = 'flex';
                }, 1500 + memoryState.level * 500);
            }, 1000);
            
            updateMemoryUI();
        }

        function inputNumber(num) {
            memoryState.userAnswer += num;
            document.getElementById('user-answer').textContent = memoryState.userAnswer;
        }

        function clearAnswer() {
            memoryState.userAnswer = '';
            document.getElementById('user-answer').textContent = '';
        }

        function submitMemory() {
            if (memoryState.userAnswer === memoryState.numbers) {
                memoryState.correct++;
                document.getElementById('memory-display').textContent = 'ì •ë‹µ! ğŸ‘';
                document.getElementById('memory-display').classList.add('pulse');
            } else {
                document.getElementById('memory-display').textContent = `ì˜¤ë‹µ! ì •ë‹µ: ${memoryState.numbers}`;
            }
            
            memoryState.level++;
            
            setTimeout(() => {
                document.getElementById('memory-display').classList.remove('pulse');
                if (memoryState.level > memoryState.maxLevel) {
                    endMemory();
                } else {
                    startMemoryRound();
                }
            }, 1500);
        }

        function updateMemoryUI() {
            document.getElementById('memory-level').textContent = `${memoryState.level}/${memoryState.maxLevel}`;
            document.getElementById('memory-correct').textContent = memoryState.correct;
            document.getElementById('memory-progress').style.width = `${((memoryState.level - 1) / memoryState.maxLevel) * 100}%`;
        }

        function endMemory() {
            const score = memoryState.correct * 20;
            gameState.memory.score = score;
            gameState.memory.completed = true;
            gameState.totalScore += score;
            
            document.getElementById('memory-score').textContent = score;
            document.getElementById('memory-result').style.display = 'block';
            document.getElementById('memory-input').style.display = 'none';
        }

        // ============================================
        // 4. ì†ë‹´ ì™„ì„±í•˜ê¸°
        // ============================================
        const proverbs = [
            { text: 'ê°€ëŠ” ë§ì´ ê³ ì™€ì•¼ ____ ë§ì´ ê³±ë‹¤', answer: 'ì˜¤ëŠ”', options: ['ì˜¤ëŠ”', 'ê°€ëŠ”', 'ë¨¼', 'í°'] },
            { text: 'ë‚®ë§ì€ ìƒˆê°€ ë“£ê³  ____ ì¥ê°€ ë“£ëŠ”ë‹¤', answer: 'ë°¤ë§ì€', options: ['ë°¤ë§ì€', 'í°ë§ì€', 'ì‘ì€ë§ì€', 'ê¸´ë§ì€'] },
            { text: 'ì„¸ ì‚´ ë²„ë¦‡ ____ ê°„ë‹¤', answer: 'ì—¬ë“ ê¹Œì§€', options: ['ì—¬ë“ ê¹Œì§€', 'í‰ìƒ', 'ì–´ë¥¸ê¹Œì§€', 'ì£½ì„ë•Œê¹Œì§€'] },
            { text: 'ë›°ëŠ” ë†ˆ ìœ„ì— ____ ë†ˆ ìˆë‹¤', answer: 'ë‚˜ëŠ”', options: ['ë‚˜ëŠ”', 'ë›°ëŠ”', 'ê±·ëŠ”', 'ì„œëŠ”'] },
            { text: 'ë°±ì§€ì¥ë„ ____ ë‚«ë‹¤', answer: 'ë§ë“¤ë©´', options: ['ë§ë“¤ë©´', 'í˜¼ìë©´', 'ë‘˜ì´ë©´', 'ê°™ì´ë©´'] },
            { text: 'ì½© ì‹¬ì€ ë° ì½© ë‚˜ê³  ____ ì‹¬ì€ ë° íŒ¥ ë‚œë‹¤', answer: 'íŒ¥', options: ['íŒ¥', 'ì½©', 'ìŒ€', 'ë³´ë¦¬'] },
            { text: 'í˜¸ë‘ì´ë„ ____ í•˜ë©´ ì˜¨ë‹¤', answer: 'ì œ ë§', options: ['ì œ ë§', 'í° ì†Œë¦¬', 'ì´ë¦„', 'ìƒê°'] }
        ];

        let proverbState = {
            current: 0,
            correct: 0,
            shuffledProverbs: []
        };

        function initProverb() {
            proverbState = { current: 0, correct: 0, shuffledProverbs: [...proverbs].sort(() => Math.random() - 0.5).slice(0, 5) };
            document.getElementById('proverb-result').style.display = 'none';
            showProverb();
        }

        function showProverb() {
            const p = proverbState.shuffledProverbs[proverbState.current];
            document.getElementById('proverb-display').innerHTML = p.text.replace('____', '<span class="proverb-blank"></span>');
            
            const optionsDiv = document.getElementById('proverb-options');
            optionsDiv.innerHTML = '';
            
            const shuffledOptions = [...p.options].sort(() => Math.random() - 0.5);
            shuffledOptions.forEach(option => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.textContent = option;
                btn.onclick = () => checkProverb(option, btn);
                optionsDiv.appendChild(btn);
            });
            
            updateProverbUI();
        }

        function checkProverb(answer, btn) {
            const p = proverbState.shuffledProverbs[proverbState.current];
            const buttons = document.querySelectorAll('.option-btn');
            buttons.forEach(b => b.onclick = null);
            
            if (answer === p.answer) {
                btn.classList.add('correct');
                proverbState.correct++;
            } else {
                btn.classList.add('wrong');
                buttons.forEach(b => {
                    if (b.textContent === p.answer) b.classList.add('correct');
                });
            }
            
            proverbState.current++;
            
            setTimeout(() => {
                if (proverbState.current >= 5) {
                    endProverb();
                } else {
                    showProverb();
                }
            }, 1500);
        }

        function updateProverbUI() {
            document.getElementById('proverb-num').textContent = `${proverbState.current + 1}/5`;
            document.getElementById('proverb-correct').textContent = proverbState.correct;
            document.getElementById('proverb-progress').style.width = `${(proverbState.current / 5) * 100}%`;
        }

        function endProverb() {
            const score = proverbState.correct * 20;
            gameState.proverb.score = score;
            gameState.proverb.completed = true;
            gameState.totalScore += score;
            
            document.getElementById('proverb-score').textContent = score;
            document.getElementById('proverb-result').style.display = 'block';
        }

        // ============================================
        // 5. ì‚°ìˆ˜ ê³„ì‚°
        // ============================================
        let calcState = {
            current: 0,
            correct: 0,
            currentAnswer: 0,
            problems: []
        };

        function initCalc() {
            calcState = { current: 0, correct: 0, currentAnswer: 0, problems: [] };
            document.getElementById('calc-result').style.display = 'none';
            
            // 5ê°œ ë¬¸ì œ ìƒì„±
            for (let i = 0; i < 5; i++) {
                const type = Math.random() > 0.5 ? '+' : '-';
                let a, b;
                
                if (type === '+') {
                    a = Math.floor(Math.random() * 50) + 10;
                    b = Math.floor(Math.random() * 40) + 5;
                } else {
                    a = Math.floor(Math.random() * 50) + 30;
                    b = Math.floor(Math.random() * 25) + 5;
                }
                
                calcState.problems.push({
                    text: `${a} ${type} ${b} = ?`,
                    answer: type === '+' ? a + b : a - b
                });
            }
            
            showCalcProblem();
        }

        function showCalcProblem() {
            const p = calcState.problems[calcState.current];
            document.getElementById('calc-problem').textContent = p.text;
            document.getElementById('calc-answer').value = '';
            calcState.currentAnswer = p.answer;
            updateCalcUI();
        }

        function submitCalc() {
            const userAnswer = parseInt(document.getElementById('calc-answer').value);
            
            if (userAnswer === calcState.currentAnswer) {
                calcState.correct++;
                document.getElementById('calc-problem').textContent = 'ì •ë‹µ! ğŸ‘';
            } else {
                document.getElementById('calc-problem').textContent = `ì˜¤ë‹µ! ì •ë‹µ: ${calcState.currentAnswer}`;
            }
            
            calcState.current++;
            
            setTimeout(() => {
                if (calcState.current >= 5) {
                    endCalc();
                } else {
                    showCalcProblem();
                }
            }, 1500);
        }

        function updateCalcUI() {
            document.getElementById('calc-num').textContent = `${calcState.current + 1}/5`;
            document.getElementById('calc-correct').textContent = calcState.correct;
            document.getElementById('calc-progress').style.width = `${(calcState.current / 5) * 100}%`;
        }

        function endCalc() {
            const score = calcState.correct * 20;
            gameState.calc.score = score;
            gameState.calc.completed = true;
            gameState.totalScore += score;
            
            document.getElementById('calc-score').textContent = score;
            document.getElementById('calc-result').style.display = 'block';
        }

        // ============================================
        // 6. ìˆœì„œ ë§ì¶”ê¸°
        // ============================================
        const sequenceQuestions = [
            { 
                items: ['ğŸ¥š', 'ğŸ£', 'ğŸ¥', 'ğŸ”'],
                instruction: 'ë‹¬ê±€ì—ì„œ ë‹­ì´ ë˜ëŠ” ìˆœì„œë¥¼ ë§ì¶°ë³´ì„¸ìš”!',
                answer: ['ğŸ¥š', 'ğŸ£', 'ğŸ¥', 'ğŸ”']
            },
            { 
                items: ['ğŸŒ±', 'ğŸŒ¿', 'ğŸŒ³', 'ğŸ‚'],
                instruction: 'ë‚˜ë¬´ê°€ ìë¼ëŠ” ìˆœì„œë¥¼ ë§ì¶°ë³´ì„¸ìš”!',
                answer: ['ğŸŒ±', 'ğŸŒ¿', 'ğŸŒ³', 'ğŸ‚']
            },
            { 
                items: ['ğŸŒ…', 'â˜€ï¸', 'ğŸŒ†', 'ğŸŒ™'],
                instruction: 'í•˜ë£¨ì˜ ìˆœì„œë¥¼ ë§ì¶°ë³´ì„¸ìš”!',
                answer: ['ğŸŒ…', 'â˜€ï¸', 'ğŸŒ†', 'ğŸŒ™']
            }
        ];

        let seqState = {
            current: 0,
            correct: 0,
            selected: [],
            currentQuestion: null
        };

        function initSequence() {
            seqState = { current: 0, correct: 0, selected: [], currentQuestion: null };
            document.getElementById('sequence-result').style.display = 'none';
            showSequenceQuestion();
        }

        function showSequenceQuestion() {
            seqState.currentQuestion = sequenceQuestions[seqState.current];
            seqState.selected = [];
            
            document.getElementById('seq-instruction').textContent = seqState.currentQuestion.instruction;
            
            const itemsDiv = document.getElementById('sequence-items');
            const selectedDiv = document.getElementById('selected-sequence');
            itemsDiv.innerHTML = '';
            selectedDiv.innerHTML = '';
            
            // ì„ê¸°
            const shuffled = [...seqState.currentQuestion.items].sort(() => Math.random() - 0.5);
            
            shuffled.forEach((item, index) => {
                const div = document.createElement('div');
                div.className = 'seq-item';
                div.textContent = item;
                div.dataset.item = item;
                div.onclick = () => selectSequenceItem(item, div);
                itemsDiv.appendChild(div);
            });
            
            updateSeqUI();
        }

        function selectSequenceItem(item, element) {
            if (seqState.selected.includes(item)) return;
            
            seqState.selected.push(item);
            element.classList.add('selected');
            
            const selectedDiv = document.getElementById('selected-sequence');
            const div = document.createElement('div');
            div.className = 'selected-item';
            div.textContent = item;
            selectedDiv.appendChild(div);
        }

        function resetSequence() {
            seqState.selected = [];
            document.getElementById('selected-sequence').innerHTML = '';
            document.querySelectorAll('.seq-item').forEach(item => item.classList.remove('selected'));
        }

        function submitSequence() {
            if (seqState.selected.length !== seqState.currentQuestion.answer.length) {
                alert('ëª¨ë“  ê·¸ë¦¼ì„ ìˆœì„œëŒ€ë¡œ ì„ íƒí•´ì£¼ì„¸ìš”!');
                return;
            }
            
            const isCorrect = seqState.selected.every((item, index) => item === seqState.currentQuestion.answer[index]);
            
            if (isCorrect) {
                seqState.correct++;
                document.getElementById('seq-instruction').textContent = 'ì •ë‹µì…ë‹ˆë‹¤! ğŸ‘';
            } else {
                document.getElementById('seq-instruction').textContent = `ì˜¤ë‹µ! ì •ë‹µ: ${seqState.currentQuestion.answer.join(' â†’ ')}`;
            }
            
            seqState.current++;
            
            setTimeout(() => {
                if (seqState.current >= 3) {
                    endSequence();
                } else {
                    showSequenceQuestion();
                }
            }, 2000);
        }

        function updateSeqUI() {
            document.getElementById('seq-num').textContent = `${seqState.current + 1}/3`;
            document.getElementById('seq-correct').textContent = seqState.correct;
            document.getElementById('seq-progress').style.width = `${(seqState.current / 3) * 100}%`;
        }

        function endSequence() {
            const score = Math.round(seqState.correct * 33.33);
            gameState.sequence.score = score;
            gameState.sequence.completed = true;
            gameState.totalScore += score;
            
            document.getElementById('sequence-score').textContent = score;
            document.getElementById('sequence-result').style.display = 'block';
        }

        // ì—”í„°í‚¤ ì§€ì›
        document.getElementById('calc-answer').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') submitCalc();
        });

        // ì´ˆê¸°í™”
        updateScoreboard();
    </script>
</body>
</html>
